2025-07-21 13:19:07,411 - INFO - 日志系统初始化完成，日志文件: /mnt/nvme0n1/tyj/TKGQA/MY/logs/experiment_20250721_131907.log
2025-07-21 13:19:07,443 - INFO - TemporalKGQASystem 初始化完成
2025-07-21 13:19:07,443 - INFO - 加载知识图谱: MY/data/output/full_df.txt
2025-07-21 13:19:07,818 - INFO - 数据形状: (461329, 4)
2025-07-21 13:19:07,818 - INFO - 列名: ['head', 'relation', 'tail', 'timestamp']
2025-07-21 13:19:07,854 - INFO - 知识图谱加载完成，共 461329 条记录
2025-07-21 13:19:07,855 - INFO - 时间范围: 2005-01-01 00:00:00 到 2015-12-31 00:00:00
2025-07-21 13:19:07,855 - INFO - 加载问题数据: MY/data/multitq/questions/sample_20_questions.json
2025-07-21 13:19:07,855 - INFO - 问题数据加载完成，共 20 个问题
2025-07-21 13:19:07,855 - INFO - 开始处理 20 个问题
2025-07-21 13:19:07,855 - INFO - 
============================================================
2025-07-21 13:19:07,855 - INFO - 进度: 1/20
2025-07-21 13:19:07,855 - INFO - 
==================================================
2025-07-21 13:19:07,855 - INFO - 处理问题 2056020: When did Walker San Miguel first express interest in working with Bolivia?
2025-07-21 13:19:07,855 - INFO - 预期答案: ['2007-07-24']
2025-07-21 13:19:07,855 - INFO - 问题类型: first_last
2025-07-21 13:19:07,855 - INFO - 答案类型: time
2025-07-21 13:19:07,856 - INFO - 代码生成成功
2025-07-21 13:19:07,856 - INFO - 生成的代码长度: 2926 字符
2025-07-21 13:19:07,857 - INFO - 开始执行查询代码
2025-07-21 13:19:07,857 - INFO - 代码长度: 2926 字符
2025-07-21 13:19:07,857 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:07,892 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:07,893 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:07,899 - INFO - 预测答案: []
2025-07-21 13:19:07,899 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:07,900 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:07,900 - INFO - 
============================================================
2025-07-21 13:19:07,900 - INFO - 进度: 2/20
2025-07-21 13:19:07,900 - INFO - 
==================================================
2025-07-21 13:19:07,900 - INFO - 处理问题 2027657: Who wanted to cooperate with Japan on 23 August 2006?
2025-07-21 13:19:07,900 - INFO - 预期答案: ['Association of Southeast Asian Nations']
2025-07-21 13:19:07,900 - INFO - 问题类型: equal
2025-07-21 13:19:07,900 - INFO - 答案类型: entity
2025-07-21 13:19:07,900 - INFO - 代码生成成功
2025-07-21 13:19:07,900 - INFO - 生成的代码长度: 1611 字符
2025-07-21 13:19:07,900 - INFO - 开始执行查询代码
2025-07-21 13:19:07,900 - INFO - 代码长度: 1611 字符
2025-07-21 13:19:07,901 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:07,939 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:07,939 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:07,945 - INFO - 预测答案: []
2025-07-21 13:19:07,945 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:07,946 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:07,946 - INFO - 
============================================================
2025-07-21 13:19:07,946 - INFO - 进度: 3/20
2025-07-21 13:19:07,946 - INFO - 
==================================================
2025-07-21 13:19:07,946 - INFO - 处理问题 2007873: Before 11 December 2009, who used conventional military force against France?
2025-07-21 13:19:07,946 - INFO - 预期答案: ['Separatist (France)', 'Comoros', 'Royal Air Force', 'Bolivia', 'Colombia', 'Christian (France)', 'Member of Parliament (France)', 'Military (Russia)']
2025-07-21 13:19:07,946 - INFO - 问题类型: before_after
2025-07-21 13:19:07,946 - INFO - 答案类型: entity
2025-07-21 13:19:07,947 - INFO - 代码生成成功
2025-07-21 13:19:07,947 - INFO - 生成的代码长度: 2532 字符
2025-07-21 13:19:07,947 - INFO - 开始执行查询代码
2025-07-21 13:19:07,947 - INFO - 代码长度: 2532 字符
2025-07-21 13:19:07,947 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:07,985 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:07,985 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:07,992 - INFO - 预测答案: []
2025-07-21 13:19:07,992 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:07,993 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:07,993 - INFO - 
============================================================
2025-07-21 13:19:07,993 - INFO - 进度: 4/20
2025-07-21 13:19:07,993 - INFO - 
==================================================
2025-07-21 13:19:07,993 - INFO - 处理问题 2044815: Which country was the first to ask for France after the Algerian extremist?
2025-07-21 13:19:07,993 - INFO - 预期答案: ['Iran']
2025-07-21 13:19:07,993 - INFO - 问题类型: after_first
2025-07-21 13:19:07,993 - INFO - 答案类型: entity
2025-07-21 13:19:07,993 - ERROR - 代码生成失败: 'CodeGenerator' object has no attribute '_generate_after_first_code'
2025-07-21 13:19:07,993 - INFO - 开始执行查询代码
2025-07-21 13:19:07,993 - INFO - 代码长度: 1918 字符
2025-07-21 13:19:07,994 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,031 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,032 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,038 - INFO - 预测答案: []
2025-07-21 13:19:08,038 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,039 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,039 - INFO - 
============================================================
2025-07-21 13:19:08,039 - INFO - 进度: 5/20
2025-07-21 13:19:08,039 - INFO - 
==================================================
2025-07-21 13:19:08,039 - INFO - 处理问题 2016117: Before the Brazilian Ministry of Agriculture, Fishing and Forestry, which country was the last to condemn France?
2025-07-21 13:19:08,039 - INFO - 预期答案: ['Mexico']
2025-07-21 13:19:08,039 - INFO - 问题类型: before_last
2025-07-21 13:19:08,039 - INFO - 答案类型: entity
2025-07-21 13:19:08,039 - ERROR - 代码生成失败: 'CodeGenerator' object has no attribute '_generate_before_last_code'
2025-07-21 13:19:08,039 - INFO - 开始执行查询代码
2025-07-21 13:19:08,039 - INFO - 代码长度: 1901 字符
2025-07-21 13:19:08,040 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,078 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,078 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,084 - INFO - 预测答案: []
2025-07-21 13:19:08,085 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,085 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,085 - INFO - 
============================================================
2025-07-21 13:19:08,085 - INFO - 进度: 6/20
2025-07-21 13:19:08,085 - INFO - 
==================================================
2025-07-21 13:19:08,085 - INFO - 处理问题 2018890: Who received Juan Carlos I's visit from Juan Carlos I on the same month of Qatar?
2025-07-21 13:19:08,085 - INFO - 预期答案: ['Royal Administration (Spain)', 'Royal Administration (Jordan)', 'Royal Administration (Saudi Arabia)']
2025-07-21 13:19:08,085 - INFO - 问题类型: equal_multi
2025-07-21 13:19:08,086 - INFO - 答案类型: entity
2025-07-21 13:19:08,086 - ERROR - 代码生成失败: 'CodeGenerator' object has no attribute '_generate_equal_multi_code'
2025-07-21 13:19:08,086 - INFO - 开始执行查询代码
2025-07-21 13:19:08,086 - INFO - 代码长度: 1940 字符
2025-07-21 13:19:08,086 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,124 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,124 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,131 - INFO - 预测答案: []
2025-07-21 13:19:08,131 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,132 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,132 - INFO - 
============================================================
2025-07-21 13:19:08,132 - INFO - 进度: 7/20
2025-07-21 13:19:08,132 - INFO - 
==================================================
2025-07-21 13:19:08,132 - INFO - 处理问题 2024585: In February 2007, who wanted to negotiate with France?
2025-07-21 13:19:08,132 - INFO - 预期答案: ['Mahmoud Abbas', 'Citizen (Mauritania)', 'Activist (France)', 'Representatives (France)', 'China', 'Cristina Fernández de Kirchner']
2025-07-21 13:19:08,132 - INFO - 问题类型: equal
2025-07-21 13:19:08,132 - INFO - 答案类型: entity
2025-07-21 13:19:08,132 - INFO - 代码生成成功
2025-07-21 13:19:08,132 - INFO - 生成的代码长度: 1608 字符
2025-07-21 13:19:08,132 - INFO - 开始执行查询代码
2025-07-21 13:19:08,132 - INFO - 代码长度: 1608 字符
2025-07-21 13:19:08,133 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,170 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,171 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,177 - INFO - 预测答案: []
2025-07-21 13:19:08,177 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,180 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,180 - INFO - 
============================================================
2025-07-21 13:19:08,180 - INFO - 进度: 8/20
2025-07-21 13:19:08,180 - INFO - 
==================================================
2025-07-21 13:19:08,180 - INFO - 处理问题 2009795: When did Iran last negotiate with Federica Mogherini?
2025-07-21 13:19:08,180 - INFO - 预期答案: ['2015-07-28']
2025-07-21 13:19:08,180 - INFO - 问题类型: first_last
2025-07-21 13:19:08,180 - INFO - 答案类型: time
2025-07-21 13:19:08,181 - INFO - 代码生成成功
2025-07-21 13:19:08,181 - INFO - 生成的代码长度: 2928 字符
2025-07-21 13:19:08,181 - INFO - 开始执行查询代码
2025-07-21 13:19:08,181 - INFO - 代码长度: 2928 字符
2025-07-21 13:19:08,181 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,220 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,220 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,227 - INFO - 预测答案: []
2025-07-21 13:19:08,227 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,228 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,228 - INFO - 
============================================================
2025-07-21 13:19:08,228 - INFO - 进度: 9/20
2025-07-21 13:19:08,228 - INFO - 
==================================================
2025-07-21 13:19:08,228 - INFO - 处理问题 2002166: In what year did the Prime Minister of India first express an intention to negotiate with Japan?
2025-07-21 13:19:08,228 - INFO - 预期答案: ['2008']
2025-07-21 13:19:08,228 - INFO - 问题类型: first_last
2025-07-21 13:19:08,228 - INFO - 答案类型: time
2025-07-21 13:19:08,229 - INFO - 代码生成成功
2025-07-21 13:19:08,229 - INFO - 生成的代码长度: 2990 字符
2025-07-21 13:19:08,229 - INFO - 开始执行查询代码
2025-07-21 13:19:08,229 - INFO - 代码长度: 2990 字符
2025-07-21 13:19:08,229 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,268 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,268 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,275 - INFO - 预测答案: []
2025-07-21 13:19:08,275 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,276 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,276 - INFO - 
============================================================
2025-07-21 13:19:08,276 - INFO - 进度: 10/20
2025-07-21 13:19:08,276 - INFO - 
==================================================
2025-07-21 13:19:08,276 - INFO - 处理问题 2022493: Who visited France on 1 April 2014?
2025-07-21 13:19:08,276 - INFO - 预期答案: ['Xi Jinping']
2025-07-21 13:19:08,276 - INFO - 问题类型: equal
2025-07-21 13:19:08,276 - INFO - 答案类型: entity
2025-07-21 13:19:08,277 - INFO - 代码生成成功
2025-07-21 13:19:08,277 - INFO - 生成的代码长度: 1577 字符
2025-07-21 13:19:08,277 - INFO - 开始执行查询代码
2025-07-21 13:19:08,277 - INFO - 代码长度: 1577 字符
2025-07-21 13:19:08,277 - INFO - 执行查询，数据集大小: 461329
2025-07-21 13:19:08,316 - ERROR - 查询执行失败: __import__ not found
2025-07-21 13:19:08,316 - ERROR - Traceback (most recent call last):
  File "/mnt/nvme0n1/tyj/TKGQA/MY/main/query_executor.py", line 48, in execute_query
    results = query_function(kg_df.copy())
  File "<string>", line 2, in query_kg
ImportError: __import__ not found

2025-07-21 13:19:08,323 - INFO - 预测答案: []
2025-07-21 13:19:08,323 - INFO - F1: 0.000, 精确率: 0.000, 召回率: 0.000
2025-07-21 13:19:08,324 - INFO - 结果已更新到: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,324 - INFO - 达到最大问题数限制: 10
2025-07-21 13:19:08,324 - INFO - 
============================================================
2025-07-21 13:19:08,324 - INFO - 最终统计结果
2025-07-21 13:19:08,324 - INFO - ============================================================
2025-07-21 13:19:08,324 - INFO - 总问题数: 10
2025-07-21 13:19:08,324 - INFO - 平均F1分数: 0.0000
2025-07-21 13:19:08,324 - INFO - 平均精确率: 0.0000
2025-07-21 13:19:08,324 - INFO - 平均召回率: 0.0000
2025-07-21 13:19:08,324 - INFO - 
按问题类型统计:
2025-07-21 13:19:08,324 - INFO -   first_last: 0.0000 (3题)
2025-07-21 13:19:08,324 - INFO -   equal: 0.0000 (3题)
2025-07-21 13:19:08,324 - INFO -   before_after: 0.0000 (1题)
2025-07-21 13:19:08,324 - INFO -   after_first: 0.0000 (1题)
2025-07-21 13:19:08,324 - INFO -   before_last: 0.0000 (1题)
2025-07-21 13:19:08,324 - INFO -   equal_multi: 0.0000 (1题)
2025-07-21 13:19:08,324 - INFO - ✅ 实验成功完成！
2025-07-21 13:19:08,324 - INFO - 📊 处理问题数: 10
2025-07-21 13:19:08,324 - INFO - 📁 最终结果文件: /mnt/nvme0n1/tyj/TKGQA/MY/final_results_20250721_131907.json
2025-07-21 13:19:08,324 - INFO - 🎉 实验全部完成！
