2025-07-16 10:19:23,478 - INFO - 日志系统初始化完成，日志文件: /mnt/nvme0n1/tyj/TKGQA/MY/logs/experiment_20250716_101923.log
2025-07-16 10:19:23,511 - INFO - KG文件前3行: ['head\trelation\ttail\ttimestamp', 'Abdul_Kalam\tExpress_intent_to_engage_in_diplomatic_cooperation_(such_as_policy_support)\tSocial_Worker_(India)\t2005-01-01', 'Abdul_Kalam\tMake_statement\tSwraj_Paul\t2005-01-01']
2025-07-16 10:19:23,873 - INFO - 加载KG数据: 461329行, 列名: ['head', 'relation', 'tail', 'timestamp']
2025-07-16 10:19:23,874 - INFO - 时间戳列样例: ['2005-01-01', '2005-01-01', '2005-01-01', '2005-01-01', '2005-01-01']
2025-07-16 10:19:23,878 - INFO - 加载了 10488 个实体映射和 251 个关系映射
2025-07-16 10:19:23,878 - INFO - 时间戳列数据类型: object
2025-07-16 10:19:23,894 - INFO - 时间戳列唯一值样例: ['2005-01-01' '2005-01-02' '2005-01-03' '2005-01-04' '2005-01-05']
2025-07-16 10:19:25,641 - INFO - 知识图谱预处理完成，有效数据: 461329行
2025-07-16 10:19:25,643 - INFO - 时间范围: 2005-01-01 00:00:00 到 2015-12-31 00:00:00
2025-07-16 10:19:25,643 - INFO - 系统初始化完成 - 问题数: 20, KG四元组数: 461329
2025-07-16 10:19:25,643 - INFO - 代码记录文件: /mnt/nvme0n1/tyj/TKGQA/MY/generated_codes_20250716_101923.py
2025-07-16 10:19:25,643 - INFO - 开始时序知识图谱问答实验...
2025-07-16 10:19:25,643 - INFO - 问题总数: 20
2025-07-16 10:19:25,643 - INFO - 知识图谱四元组数: 461329
2025-07-16 10:19:25,643 - INFO - 
==================================================
2025-07-16 10:19:25,643 - INFO - 开始处理问题 2000014
2025-07-16 10:19:25,643 - INFO - 问题: Who would wish to visit Ireland in July, the year of 2007?
2025-07-16 10:19:25,643 - INFO - 标准答案: ['Bertie Ahern']
2025-07-16 10:19:25,643 - INFO - ==================================================
2025-07-16 10:20:57,306 - INFO - 问题分析: {'question_type': 'unknown', 'time_constraints': 'unknown', 'key_entities': [], 'target_relation': 'unknown', 'answer_type': 'entity'}
2025-07-16 10:20:57,306 - INFO - 代码生成成功，开始执行查询
2025-07-16 10:20:57,743 - INFO - 查询成功，返回 0 个结果: []
2025-07-16 10:20:57,743 - INFO - 问题 2000014 处理完成
2025-07-16 10:20:57,743 - INFO - 预测答案: []
2025-07-16 10:20:57,743 - INFO - 标准化后的标准答案: ['Bertie Ahern']
2025-07-16 10:20:57,743 - INFO - 标准化后的预测答案: []
2025-07-16 10:20:57,743 - INFO - 评估结果: P=0.000, R=0.000, F1=0.000, EM=False
2025-07-16 10:20:57,744 - INFO - 结果已保存到: /mnt/nvme0n1/tyj/TKGQA/MY/intermediate_results_1.json
2025-07-16 10:20:58,745 - INFO - 
==================================================
2025-07-16 10:20:58,745 - INFO - 开始处理问题 2000015
2025-07-16 10:20:58,745 - INFO - 问题: In which year did Viktor Orban visit Iran for the first time?
2025-07-16 10:20:58,745 - INFO - 标准答案: ['2015']
2025-07-16 10:20:58,745 - INFO - ==================================================
2025-07-16 10:24:18,757 - WARNING - 分析提取失败: Extra data: line 1 column 16 (char 15)
2025-07-16 10:24:18,758 - ERROR - 无法提取有效的query_kg函数
2025-07-16 10:26:34,639 - INFO - 问题分析: {'question_type': 'first_event', 'time_constraints': '无特定时间范围约束，需找最早发生的事件', 'key_entities': ['Viktor Orban', 'Iran'], 'target_relation': '无需特定关系，匹配head和tail即可', 'answer_type': 'time (年份)'}
2025-07-16 10:26:34,639 - INFO - 代码生成成功，开始执行查询
2025-07-16 10:26:35,355 - INFO - 查询成功，返回 1 个结果: ['2015']
2025-07-16 10:26:35,355 - INFO - 问题 2000015 处理完成
2025-07-16 10:26:35,355 - INFO - 预测答案: ['2015']
2025-07-16 10:26:35,355 - INFO - 标准化后的标准答案: ['2015']
2025-07-16 10:26:35,355 - INFO - 标准化后的预测答案: ['2015']
2025-07-16 10:26:35,355 - INFO - 交集: {'2015'}
2025-07-16 10:26:35,356 - INFO - 评估结果: P=1.000, R=1.000, F1=1.000, EM=True
2025-07-16 10:26:36,357 - INFO - 
==================================================
2025-07-16 10:26:36,357 - INFO - 开始处理问题 2000016
2025-07-16 10:26:36,357 - INFO - 问题: Who made optimistic remarks about Iran after the Organisation for Economic Cooperation and Development?
2025-07-16 10:26:36,357 - INFO - 标准答案: ['South Korea', 'Party Member (Iraq)', 'France', 'China', 'Iraq', 'Member of Legislative (Govt) (Iran)', 'Japan', 'Head of Government (Ukraine)', 'Thailand', 'Kazakhstan']
2025-07-16 10:26:36,357 - INFO - ==================================================
